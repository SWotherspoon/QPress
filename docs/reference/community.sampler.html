<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sampling Community Matrices — community.sampler • QPress</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Sampling Community Matrices — community.sampler" />

<meta property="og:description" content="Construct functions to generate random community matrices" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">QPress</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.21</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sampling Community Matrices</h1>
    
    <div class="hidden name"><code>community.sampler.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Construct functions to generate random community matrices</p>
    
    </div>

    <pre class="usage"><span class='fu'>community.sampler</span>(<span class='no'>edges</span>, <span class='kw'>required.groups</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>edges</th>
      <td><p>an edge list</p></td>
    </tr>
    <tr>
      <th>required.groups</th>
      <td><p>a vector of integers specifying which groups of edges must always occur in the community matrix.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a list with elements</p>
<dt><code>community()</code></dt><dd><p>a function to generate a random community matrix</p></dd>
<dt><code>select(p)</code></dt><dd><p>a function that randomly selects which uncertain edges will be retained</p></dd>
<dt><code><a href='https://www.rdocumentation.org/packages/stats/topics/weights'>weights(W)</a></code></dt><dd><p>a function that returns the (non-zero) weights as a vector</p></dd>
<dt><code>edge.labels</code></dt><dd><p>the labels of the edges</p></dd>
<dt><code>uncertain.labels</code></dt><dd><p>the labels of the uncertain edges</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Given an edge list that specifies a directed graph, this function
constructs a list of functions that can be use to generate random
community matrices corresponding to that directed graph.</p>
<p>Edges in the edge list that do not fall in a required group are
considered uncertain, and may or may not be represented in the
community matrix.</p>
<p>Random community matrices are generated in two stages, the first
stage determines which of the uncertain edges will be included or
excluded in subsequent simulations, while the second stage
generates random matrices corresponding to the selected.  The
<code>select</code> function is a function of a single argument <code>p</code>
that determines which of the uncertain edge pairs will be included
in matrices generated by subsequent calls to
<code>community</code>. This function always selects either neither or
both edges of a pair and every uncertain pair has likelihood
<code>p</code> of being selected. The <code>community</code> function is a
function of no arguments that generates a random community matrix.
The <code>weights</code> function is a function of a single argument
<code>W</code> that returns those entries of the community matrix
<code>W</code> that correspond to edges in the edge list.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>32</span>)
<span class='co'>## Sample model</span>
<span class='no'>edges</span> <span class='kw'>&lt;-</span> <span class='fu'>parse.digraph</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(
  <span class='st'>"E *-&gt; D"</span>,
  <span class='st'>"D *-&gt; C"</span>,
  <span class='st'>"C -&gt; E"</span>,
  <span class='st'>"E *-&gt; B"</span>,
  <span class='st'>"B *-&gt; A"</span>,
  <span class='st'>"A -&gt; E"</span>,
  <span class='st'>"D --&gt; B"</span>))
<span class='no'>edges</span> <span class='kw'>&lt;-</span> <span class='fu'>enforce.limitation</span>(<span class='no'>edges</span>)
<span class='no'>s</span> <span class='kw'>&lt;-</span> <span class='fu'>community.sampler</span>(<span class='no'>edges</span>)
<span class='co'>## Force D --&gt; B edge out</span>
<span class='no'>s</span>$<span class='fu'>select</span>(<span class='fl'>0</span>)
<span class='co'>## Generate community matrices</span>
<span class='no'>s</span>$<span class='fu'>community</span>()</div><div class='output co'>#&gt;            [,1]       [,2]       [,3]       [,4]       [,5]
#&gt; [1,] -0.6786304  0.1519876  0.0000000  0.0000000  0.0000000
#&gt; [2,] -0.3419975 -0.3879250  0.0000000  0.0000000  0.7288197
#&gt; [3,]  0.0000000  0.0000000 -0.2273639  0.5948084  0.0000000
#&gt; [4,]  0.0000000  0.0000000 -0.3265582 -0.7337878  0.5058405
#&gt; [5,]  0.9561873 -0.6128745  0.8087471 -0.1479377 -0.2511979</div><div class='input'><span class='no'>s</span>$<span class='fu'>community</span>()</div><div class='output co'>#&gt;            [,1]        [,2]       [,3]       [,4]       [,5]
#&gt; [1,] -0.4828351  0.68269684  0.0000000  0.0000000  0.0000000
#&gt; [2,] -0.5374858 -0.46007894  0.0000000  0.0000000  0.9075928
#&gt; [3,]  0.0000000  0.00000000 -0.3882794  0.4194729  0.0000000
#&gt; [4,]  0.0000000  0.00000000 -0.4193672 -0.6057378  0.7994494
#&gt; [5,]  0.8908419 -0.01802125  0.6222058 -0.8612446 -0.1753905</div><div class='input'><span class='co'>## Force D --&gt; B edge in</span>
<span class='no'>s</span>$<span class='fu'>select</span>(<span class='fl'>1</span>)
<span class='co'>## Generate community matrices</span>
<span class='no'>s</span>$<span class='fu'>community</span>()</div><div class='output co'>#&gt;            [,1]       [,2]       [,3]        [,4]        [,5]
#&gt; [1,] -0.4647573  0.5198455  0.0000000  0.00000000  0.00000000
#&gt; [2,] -0.8609805 -0.1737807  0.0000000  0.79778422  0.76826156
#&gt; [3,]  0.0000000  0.0000000 -0.7778829  0.82850912  0.00000000
#&gt; [4,]  0.0000000  0.0000000 -0.6144326 -0.35912376  0.91085816
#&gt; [5,]  0.1483667 -0.2406717  0.4417894 -0.01370652 -0.03663209</div><div class='input'><span class='no'>s</span>$<span class='fu'>community</span>()</div><div class='output co'>#&gt;             [,1]       [,2]       [,3]        [,4]       [,5]
#&gt; [1,] -0.04333347  0.7014790  0.0000000  0.00000000  0.0000000
#&gt; [2,] -0.31793984 -0.2059869  0.0000000  0.02016695  0.9521386
#&gt; [3,]  0.00000000  0.0000000 -0.8673946  0.06280278  0.0000000
#&gt; [4,]  0.00000000  0.0000000 -0.1630088 -0.27759930  0.7704489
#&gt; [5,]  0.34899865 -0.1312224  0.8110850 -0.99836768 -0.8065071</div><div class='input'><span class='co'>## Select the uncertain D --&gt; B edge with prob 0.6</span>
<span class='no'>s</span>$<span class='fu'>select</span>(<span class='fl'>0.6</span>)
<span class='co'>## Generate community matrices</span>
<span class='no'>s</span>$<span class='fu'>community</span>()</div><div class='output co'>#&gt;            [,1]       [,2]       [,3]       [,4]       [,5]
#&gt; [1,] -0.2542593  0.4102821  0.0000000  0.0000000  0.0000000
#&gt; [2,] -0.7762236 -0.8843759  0.0000000  0.2541118  0.9397219
#&gt; [3,]  0.0000000  0.0000000 -0.6202625  0.8461755  0.0000000
#&gt; [4,]  0.0000000  0.0000000 -0.9714032 -0.6190249  0.9973086
#&gt; [5,]  0.8374537 -0.8873680  0.1108565 -0.5471697 -0.4680537</div><div class='input'><span class='no'>s</span>$<span class='fu'>community</span>()</div><div class='output co'>#&gt;            [,1]       [,2]         [,3]       [,4]       [,5]
#&gt; [1,] -0.8748754  0.5323647  0.000000000  0.0000000  0.0000000
#&gt; [2,] -0.6817469 -0.6709742  0.000000000  0.8604564  0.1768623
#&gt; [3,]  0.0000000  0.0000000 -0.730709196  0.5329132  0.0000000
#&gt; [4,]  0.0000000  0.0000000 -0.139402971 -0.9388213  0.5397287
#&gt; [5,]  0.4521534 -0.9454003  0.008040447 -0.8093323 -0.7397858</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Simon Wotherspoon, Jessica Melbourne-Thomas, Ben Raymond.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

